!function(){var t,e,n=document.querySelector("#tabs"),o=document.querySelector("#filter");chrome.tabs.query({windowId:chrome.windows.WINDOW_ID_CURRENT},function(e){t=e,console.log(e);for(var o=0;o<e.length;o++)n.innerHTML=n.innerHTML+a(e[o].selected,e[o].id,e[o].favIconUrl,e[o].title)}),n.onclick=function(t){if(t.preventDefault(),console.log(t),console.log(t.target),console.log("data close"+t.target.getAttribute("data-close")),null===t.target.getAttribute("data-close"))chrome.tabs.update(parseInt(t.target.getAttribute("data-id")),{highlighted:!0},function(){});else{var e=parseInt(t.target.getAttribute("data-close"));chrome.tabs.remove(e,function(){}),r(e),c()}return!0};var r=function(e){t=t.filter(function(t){return t.id!=e})},a=function(t,e,n,o){return'<a href="#" class="list-group-item'+(t?" active":"")+'" data-id="'+e+'"><span class="pull-right close" data-close="'+e+'">&times;</span><img src="'+n+'">'+o+"</a>"},c=function(){var o="",r=new RegExp(e,"i");t.forEach(function(t){r.test(t.title)&&(o+=a(t.selected,t.id,t.favIconUrl,t.title))}),n.innerHTML=o};o.onkeyup=function(){e=o.value,c()},o.focus()}();